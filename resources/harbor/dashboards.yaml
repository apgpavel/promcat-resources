---
apiVersion: v1
kind: Dashboards
app: "Harbor"
version: 1.0.0
appVersion: 
  - 1.1
maintainers:
  - name: Sysdig team
    link: https://sysdig.com/
description: 
configurations: 
  - name: "Harbor"
    kind: grafana
    image: "harbor/images/harbor_grafana.png"
    description: |
      This dashboard offers information on: 
      * Harbor Storage
      * Harbor Projects
      * Harbor Tasks
    data: |
      {
        "__inputs": [
          {
            "name": "DS_PROMETHEUS",
            "label": "Prometheus",
            "description": "",
            "type": "datasource",
            "pluginId": "prometheus",
            "pluginName": "Prometheus"
          }
        ],
        "__requires": [
          {
            "type": "grafana",
            "id": "grafana",
            "name": "Grafana",
            "version": "6.7.2"
          },
          {
            "type": "panel",
            "id": "graph",
            "name": "Graph",
            "version": ""
          },
          {
            "type": "datasource",
            "id": "prometheus",
            "name": "Prometheus",
            "version": "1.0.0"
          },
          {
            "type": "panel",
            "id": "singlestat",
            "name": "Singlestat",
            "version": ""
          }
        ],
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "gnetId": null,
        "graphTooltip": 0,
        "id": null,
        "links": [],
        "panels": [
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 0,
              "y": 0
            },
            "id": 2,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "pluginVersion": "6.7.2",
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "harbor_up",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Up",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 6,
              "y": 0
            },
            "id": 4,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "harbor_project_count_total{type=\"total_project\"}",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Total projects",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 12,
              "y": 0
            },
            "id": 6,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "harbor_project_count_total{type=\"public_project\"}",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Private projects",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 18,
              "y": 0
            },
            "id": 7,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "harbor_project_count_total{type=\"public_project\"}",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Public projects",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 4
            },
            "hiddenSeries": false,
            "id": 9,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "harbor_quotas_size_bytes",
                "interval": "",
                "legendFormat": "{{repo_name}}: {{type}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Project quota usage: storage",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 4
            },
            "hiddenSeries": false,
            "id": 10,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "harbor_quotas_count_total",
                "interval": "",
                "legendFormat": "{{repo_name}}: {{type}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Project quota usage: repository count",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 0,
              "y": 12
            },
            "id": 12,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(harbor_replication_status) / count(harbor_replication_status)",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Replication status",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              },
              {
                "op": "=",
                "text": "Ok",
                "value": "1"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 6,
              "y": 12
            },
            "id": 13,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(harbor_replication_tasks{result=\"succeed\"})",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Tasks succeeded",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              },
              {
                "op": "=",
                "text": "Ok",
                "value": "1"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 12,
              "y": 12
            },
            "id": 14,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(harbor_replication_tasks{result=\"in_progress\"})",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Tasks in progress",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              },
              {
                "op": "=",
                "text": "Ok",
                "value": "1"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 18,
              "y": 12
            },
            "id": 15,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false,
              "ymax": null,
              "ymin": null
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(harbor_replication_tasks{result=\"failed\"})",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Tasks failed",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              },
              {
                "op": "=",
                "text": "Ok",
                "value": "1"
              }
            ],
            "valueName": "avg"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 16
            },
            "hiddenSeries": false,
            "id": 16,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(harbor_repositories_pull_total[1d])",
                "interval": "",
                "legendFormat": "{{repo_name}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Pulls per hour",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "${DS_SYSDIG_PROMQL BENCER}",
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 16
            },
            "hiddenSeries": false,
            "id": 17,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "harbor_repositories_tags_total",
                "interval": "",
                "legendFormat": "{{repo_name}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Tags per repository",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "schemaVersion": 22,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-15m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Harbor",
        "uid": "CrWEpZeWz",
        "variables": {
          "list": []
        },
        "version": 9
      }

  - name: "Harbor"
    kind: sysdig
    image: "harbor/images/harbor_sysdig.png"
    description: |
      This dashboard offers information on: 
      * Harbor Storage
      * Harbor Projects
      * Harbor Tasks
    data: |
      {
        "dashboard":{
            "id":161785,
            "teamId":2975,
            "userId":7234,
            "name":"Harbor",
            "panels":[
              {
                  "id":1,
                  "type":"advancedNumber",
                  "name":"Harbor service",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"harbor_up"
                    }
                  ],
                  "numberThresholds":{
                    "values":[
                        {
                          "severity":"ok",
                          "value":0.1,
                          "inputFormat":"1",
                          "displayText":"Up"
                        }
                    ],
                    "base":{
                        "severity":"high",
                        "displayText":"Down"
                    }
                  }
              },
              {
                  "id":2,
                  "type":"advancedNumber",
                  "name":"Total projects",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"harbor_project_count_total{type=\"total_project\"}"
                    }
                  ],
                  "numberThresholds":{
                    "values":[

                    ],
                    "base":{
                        "severity":"none",
                        "displayText":""
                    }
                  }
              },
              {
                  "id":3,
                  "type":"advancedNumber",
                  "name":"Public projects",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"harbor_project_count_total{type=\"public_project\"}"
                    }
                  ],
                  "numberThresholds":{
                    "values":[

                    ],
                    "base":{
                        "severity":"none",
                        "displayText":""
                    }
                  }
              },
              {
                  "id":4,
                  "type":"advancedNumber",
                  "name":"Private projects",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"harbor_project_count_total{type=\"public_project\"}"
                    }
                  ],
                  "numberThresholds":{
                    "values":[

                    ],
                    "base":{
                        "severity":"none",
                        "displayText":""
                    }
                  }
              },
              {
                  "id":5,
                  "type":"advancedTimechart",
                  "name":"Project quota usage: storage",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"{{repo_name}}: {{type}}",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"harbor_quotas_size_bytes"
                    }
                  ],
                  "legendConfiguration":{
                    "enabled":true,
                    "position":"right",
                    "layout":"table",
                    "showCurrent":true
                  },
                  "axesConfiguration":{
                    "bottom":{
                        "enabled":true
                    },
                    "left":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":2,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    },
                    "right":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":null,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    }
                  }
              },
              {
                  "id":6,
                  "type":"advancedTimechart",
                  "name":"Project quota usage: repository count",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"{{repo_name}}: {{type}}",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"harbor_quotas_count_total"
                    }
                  ],
                  "legendConfiguration":{
                    "enabled":true,
                    "position":"right",
                    "layout":"table",
                    "showCurrent":true
                  },
                  "axesConfiguration":{
                    "bottom":{
                        "enabled":true
                    },
                    "left":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":2,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    },
                    "right":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":null,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    }
                  }
              },
              {
                  "id":7,
                  "type":"advancedNumber",
                  "name":"Replication status",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"sum(harbor_replication_status) / count(harbor_replication_status)"
                    }
                  ],
                  "numberThresholds":{
                    "values":[
                        {
                          "severity":"ok",
                          "value":0.1,
                          "inputFormat":"1",
                          "displayText":"OK"
                        }
                    ],
                    "base":{
                        "severity":"high",
                        "displayText":"Failed"
                    }
                  }
              },
              {
                  "id":8,
                  "type":"advancedNumber",
                  "name":"Tasks succeeded",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"sum(harbor_replication_tasks{result=\"succeed\"})"
                    }
                  ],
                  "numberThresholds":{
                    "values":[

                    ],
                    "base":{
                        "severity":"none",
                        "displayText":""
                    }
                  }
              },
              {
                  "id":9,
                  "type":"advancedNumber",
                  "name":"Tasks stopped",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"sum(harbor_replication_tasks{result=\"stopped\"})"
                    }
                  ],
                  "numberThresholds":{
                    "values":[

                    ],
                    "base":{
                        "severity":"none",
                        "displayText":""
                    }
                  }
              },
              {
                  "id":10,
                  "type":"advancedNumber",
                  "name":"Tasks in progress",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"sum(harbor_replication_tasks{result=\"in_progress\"})"
                    }
                  ],
                  "numberThresholds":{
                    "values":[

                    ],
                    "base":{
                        "severity":"none",
                        "displayText":""
                    }
                  }
              },
              {
                  "id":11,
                  "type":"advancedNumber",
                  "name":"Tasks failed",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"sum(harbor_replication_tasks{result=\"failed\"})"
                    }
                  ],
                  "numberThresholds":{
                    "values":[

                    ],
                    "base":{
                        "severity":"none",
                        "displayText":""
                    }
                  }
              },
              {
                  "id":12,
                  "type":"advancedTimechart",
                  "name":"Pulls per hour",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"{{repo_name}}",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"irate(harbor_repositories_pull_total[1d])"
                    }
                  ],
                  "legendConfiguration":{
                    "enabled":true,
                    "position":"right",
                    "layout":"table",
                    "showCurrent":true
                  },
                  "axesConfiguration":{
                    "bottom":{
                        "enabled":true
                    },
                    "left":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":2,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    },
                    "right":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":null,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    }
                  }
              },
              {
                  "id":13,
                  "type":"advancedTimechart",
                  "name":"Tags per repository",
                  "description":"",
                  "advancedQueries":[
                    {
                        "enabled":true,
                        "displayInfo":{
                          "displayName":"",
                          "timeSeriesDisplayNameTemplate":"{{repo_name}}",
                          "type":"lines"
                        },
                        "format":{
                          "unit":"number",
                          "inputFormat":"1",
                          "displayFormat":"auto",
                          "decimals":null,
                          "yAxis":"auto"
                        },
                        "query":"harbor_repositories_tags_total"
                    }
                  ],
                  "legendConfiguration":{
                    "enabled":true,
                    "position":"right",
                    "layout":"table",
                    "showCurrent":true
                  },
                  "axesConfiguration":{
                    "bottom":{
                        "enabled":true
                    },
                    "left":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":0,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    },
                    "right":{
                        "enabled":true,
                        "displayName":null,
                        "unit":"auto",
                        "displayFormat":"auto",
                        "decimals":null,
                        "minValue":null,
                        "maxValue":null,
                        "minInputFormat":"1",
                        "maxInputFormat":"1",
                        "scale":"linear"
                    }
                  }
              }
            ],
            "scopeExpressionList":[
              {
                  "operand":"repo_name",
                  "operator":"equals",
                  "displayName":"Repository",
                  "value":[

                  ],
                  "descriptor":{
                    "segmentations":[

                    ],
                    "documentId":"4857-3631170922749838216",
                    "customerId":4857,
                    "id":"repo_name",
                    "metricType":"tag",
                    "type":"string",
                    "scale":1.0,
                    "category":"prometheus",
                    "namespaces":[
                        "host",
                        "host.process",
                        "host.container",
                        "cloudProvider",
                        "mesos",
                        "ecs",
                        "kubernetes.cluster",
                        "kubernetes.namespace",
                        "kubernetes.deployment",
                        "kubernetes.job",
                        "kubernetes.daemonSet",
                        "kubernetes.service",
                        "kubernetes.node",
                        "kubernetes.replicaSet",
                        "kubernetes.statefulSet",
                        "kubernetes.resourcequota",
                        "kubernetes.persistentvolume",
                        "kubernetes.persistentvolumeclaim",
                        "kubernetes.pod"
                    ],
                    "scopes":[

                    ],
                    "timeAggregations":[
                        "concat",
                        "distinct",
                        "count"
                    ],
                    "groupAggregations":[
                        "concat",
                        "distinct",
                        "count"
                    ],
                    "aggregationForGroup":"none",
                    "createdAt":1588090982863,
                    "lastSeen":1588090576324,
                    "hidden":false,
                    "experimental":false,
                    "deferred":false,
                    "identity":false,
                    "canMonitor":false,
                    "canGroupBy":false,
                    "canFilter":true,
                    "generatedFrom":"com.draios.model.metrics.custom.PrometheusAbstractMetric$Tag",
                    "segment":false,
                    "documentTimestamp":1588090982863,
                    "heuristic":false,
                    "documentType":"metric",
                    "routingInfo":{
                        "customerId":4857,
                        "routing":"4857"
                    }
                  },
                  "variable":true,
                  "isVariable":true
              }
            ],
            "shared":true,
            "public":false,
            "version":42,
            "createdOn":1587290894000,
            "modifiedOn":1588087233000,
            "description":"",
            "layout":[
              {
                  "panelId":1,
                  "x":0,
                  "y":0,
                  "w":6,
                  "h":2
              },
              {
                  "panelId":2,
                  "x":6,
                  "y":0,
                  "w":6,
                  "h":2
              },
              {
                  "panelId":3,
                  "x":18,
                  "y":0,
                  "w":6,
                  "h":2
              },
              {
                  "panelId":4,
                  "x":12,
                  "y":0,
                  "w":6,
                  "h":2
              },
              {
                  "panelId":5,
                  "x":0,
                  "y":2,
                  "w":12,
                  "h":3
              },
              {
                  "panelId":6,
                  "x":12,
                  "y":2,
                  "w":12,
                  "h":3
              },
              {
                  "panelId":7,
                  "x":0,
                  "y":5,
                  "w":5,
                  "h":2
              },
              {
                  "panelId":8,
                  "x":5,
                  "y":5,
                  "w":4,
                  "h":2
              },
              {
                  "panelId":9,
                  "x":9,
                  "y":5,
                  "w":4,
                  "h":2
              },
              {
                  "panelId":10,
                  "x":13,
                  "y":5,
                  "w":4,
                  "h":2
              },
              {
                  "panelId":11,
                  "x":17,
                  "y":5,
                  "w":4,
                  "h":2
              },
              {
                  "panelId":12,
                  "x":0,
                  "y":7,
                  "w":12,
                  "h":3
              },
              {
                  "panelId":13,
                  "x":12,
                  "y":7,
                  "w":12,
                  "h":3
              }
            ],
            "sharingSettings":[
              {
                  "role":"ROLE_RESOURCE_EDIT",
                  "member":{
                    "type":"USER_TEAMS",
                    "id":null,
                    "name":null,
                    "teamTheme":null
                  }
              }
            ],
            "publicToken":"04bd25d99811459ebdb7b19b1d18d5e0",
            "schema":3,
            "favorite":false,
            "username":"bencer@gmail.com",
            "permissions":[
              "dashboards.read",
              "dashboards.edit"
            ]
        }
      }